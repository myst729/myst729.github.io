<script>
  ((win, doc, undef) => {
    const key = win.useLiteTheme ? 'liteTheme' : 'theme'
    const storedTheme = localStorage.getItem(key)
    const mql = win.matchMedia('(prefers-color-scheme: dark)')
    const systemTheme = mql.matches ? 'dark' : 'light'
    doc.documentElement.dataset.theme = storedTheme || systemTheme
  })(window, document)
</script>
